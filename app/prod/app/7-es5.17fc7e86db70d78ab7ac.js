function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(t){var e=_isNativeReflectConstruct();return function(){var n,i=_getPrototypeOf(t);if(e){var s=_getPrototypeOf(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return _possibleConstructorReturn(this,n)}}function _possibleConstructorReturn(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?_assertThisInitialized(t):e}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{aqVg:function(t,e,n){"use strict";n.r(e),n.d(e,"GagsModule",(function(){return E}));var i=n("tyNb"),s=n("fXoL"),r=function(){function t(){_classCallCheck(this,t),this.validations=null,this.fields=[],this.id="",this.touched=!1}return _createClass(t,[{key:"getName",value:function(){return this.constructor.name}},{key:"from",value:function(t){var e=this;return t?(Object.getOwnPropertyNames(t).forEach((function(n){return e[n]=t[n]})),t._id&&(this.id=t._id),this):this}},{key:"getPlainForm",value:function(){var t={};return this.fields.forEach((function(e){return t[e]=[""]})),t}},{key:"getData",value:function(){var t=this,e={};return this.fields.forEach((function(n){return e[n]=t[n]||null})),e}},{key:"clone",value:function(){return Object.assign(Object.create(Object.getPrototypeOf(this)),this)}},{key:"validate",value:function(){var t=this;if(!this.validations)return{ok:!0};var e=Object.keys(this.validations),n=!0,i=[];return e.forEach((function(e){t.validations[e].forEach((function(s){var r=t.validateKey(e,s);!0!==r&&(n=!1,i.push({key:e,error:r}))}))})),n?{ok:!0}:{ok:!1,errors:i}}},{key:"getFunctionName",value:function(t){var e=t.name.split(" ");return e[e.length-1]}},{key:"validateKey",value:function(t,e){return"required"==e?!!this[t]||e:e instanceof Function?!!e()||this.getFunctionName(e):void 0}},{key:"displayErrors",value:function(t){var e="";return t.forEach((function(t){return e+=t.key+" is "+t.error+";\n"})),e}}]),t}();r.prototype.toString=function(){var t=this,e="{ CLASS "+this.getName()+" => ";return Object.getOwnPropertyNames(this).forEach((function(n){"validations"!=n&&(e+='"'+n+'": "'+t[n]+'"; ')})),e+="}"};var a,c=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t;return _classCallCheck(this,n),(t=e.apply(this,arguments)).fields=["id","content","author","location","origin","date","used_in"],t}return _createClass(n,[{key:"getOrigin",value:function(){switch(this.origin){case"twitter":return'<i class="fab fa-twitter"></i>&nbsp; Twitter';case"kindle":return'<i class="fa fa-book"></i>&nbsp; Kindle';default:return'<i class="fa fa-question-circle"></i> Unknown ('.concat(this.origin,")")}}},{key:"getLocation",value:function(){switch(this.origin){case"twitter":return'<a href="https://twitter.com/'.concat(this.author,"/status/").concat(this.location,'" target="_blank">').concat(this.location,"</a>");default:return this.location}}}]),n}(r),o=n("+1Bj"),u=((a=function(){function t(e){_classCallCheck(this,t),this.GagsApi=e}return _createClass(t,[{key:"search",value:function(t){return this.GagsApi.Search(t).map((function(t){if(!t.success)return{hasMore:!1,list:[]};var e=t.data.map((function(t){return(new c).from(t)}));return{hasMore:t.has_more,list:e}}))}}]),t}()).\u0275fac=function(t){return new(t||a)(s.Tb(o.a))},a.\u0275prov=s.Gb({token:a,factory:a.\u0275fac}),a),l=n("3Pt+"),h=n("ofXK");function b(t,e){if(1&t&&(s.Pb(0,"span",3),s.lc(1),s.Ob()),2&t){var n=s.Zb();s.zb(1),s.mc(n.subcaption)}}var p,f,g,d=((f=function(){function t(){_classCallCheck(this,t),this.action=new s.n,this.btclass=[]}return _createClass(t,[{key:"ngOnInit",value:function(){this.Initialize()}},{key:"applyCustomClass",value:function(){this.extraClass&&(this.btclass=[].concat(this.extraClass))}},{key:"preFab",value:function(){switch(this.type){case"save":this.btclass.push("btn-outline-success"),this.icon="save",this.caption="Salvar";break;case"cancel":this.btclass.push("btn-outline-danger"),this.icon="times-circle",this.caption="Cancelar";break;case"load-more":this.caption="Carregar mais",this.icon="plus-square",this.btclass.push("btn-outline-primary");break;case"search":this.caption="Buscar",this.icon="search",this.btclass.push("btn-secondary"),this.btclass.push("btn-rounded");break;case"primary":this.btclass.push("btn-primary");break;case"outline-primary":this.btclass.push("btn-outline-primary");break;case"success":this.btclass.push("btn-outline-success");break;case"danger":this.btclass.push("btn-outline-danger");break;case"primary-outline":this.btclass.push("btn-outline-primary");break;default:this.btclass.push("btn-outline-secondary")}}},{key:"Initialize",value:function(){this.applyCustomClass(),this.preFab()}},{key:"doAction",value:function(){this.action.next()}}]),t}()).\u0275fac=function(t){return new(t||f)},f.\u0275cmp=s.Eb({type:f,selectors:[["platypus-button"]],inputs:{type:"type",btnId:"btnId",caption:"caption",subcaption:"subcaption",icon:"icon",extraClass:"extraClass"},outputs:{action:"action"},decls:4,vars:5,consts:[[1,"btn","transition",3,"ngClass","id","click"],[1,"fa",3,"ngClass"],["class","subcaption",4,"ngIf"],[1,"subcaption"]],template:function(t,e){1&t&&(s.Pb(0,"button",0),s.Xb("click",(function(){return e.doAction()})),s.Lb(1,"i",1),s.lc(2),s.kc(3,b,2,1,"span",2),s.Ob()),2&t&&(s.dc("id",e.btnId),s.cc("ngClass",e.btclass),s.zb(1),s.cc("ngClass","fa-"+e.icon),s.zb(1),s.nc(" ",e.caption," "),s.zb(1),s.cc("ngIf",e.subcaption))},directives:[h.i,h.k],styles:[".small[_ngcontent-%COMP%]{font-size:12px;padding:5px 10px}.subcaption[_ngcontent-%COMP%]{width:100%;font-size:.8rem;font-style:italic;float:left}"]}),f),v=((p=function(){function t(e,n){_classCallCheck(this,t),this.router=e,this.route=n,this.query="",this.author="",this.search=new s.n}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.route.queryParams.subscribe((function(e){var n=!1;e.q&&(t.query=e.q,"0"==t.query?t.query="":n=!0),e.author&&(t.author=e.author,"0"==t.author?t.author="":n=!0,n=!0),n&&t.filter()}))}},{key:"updateUrl",value:function(t){this.router.navigate([],{relativeTo:this.route,queryParams:t})}},{key:"filter",value:function(){var t={};this.query&&(t.q=this.query),this.author&&(t.author=this.author),this.updateUrl(t),this.search.emit(t)}}]),t}()).\u0275fac=function(t){return new(t||p)(s.Kb(i.c),s.Kb(i.a))},p.\u0275cmp=s.Eb({type:p,selectors:[["search-bar"]],outputs:{search:"search"},decls:16,vars:2,consts:[[1,"row"],[1,"col-md-2","lbl"],["for","query"],[1,"col-md-10"],[1,"form-control",3,"ngModel","ngModelChange","keyup.enter"],[1,"row","submit"],[1,"col-md-8"],[1,"col-md-4"],["extraClass","btn-100","type","search","caption","Search",3,"click"]],template:function(t,e){1&t&&(s.Pb(0,"div",0),s.Pb(1,"div",1),s.Pb(2,"label",2),s.lc(3,"Query:"),s.Ob(),s.Ob(),s.Pb(4,"div",3),s.Pb(5,"input",4),s.Xb("ngModelChange",(function(t){return e.query=t}))("keyup.enter",(function(){return e.filter()})),s.Ob(),s.Ob(),s.Ob(),s.Pb(6,"div",0),s.Pb(7,"div",1),s.Pb(8,"label",2),s.lc(9,"Author:"),s.Ob(),s.Ob(),s.Pb(10,"div",3),s.Pb(11,"input",4),s.Xb("ngModelChange",(function(t){return e.author=t}))("keyup.enter",(function(){return e.filter()})),s.Ob(),s.Ob(),s.Ob(),s.Pb(12,"div",5),s.Lb(13,"div",6),s.Pb(14,"div",7),s.Pb(15,"platypus-button",8),s.Xb("click",(function(){return e.filter()})),s.Ob(),s.Ob(),s.Ob()),2&t&&(s.zb(5),s.cc("ngModel",e.query),s.zb(6),s.cc("ngModel",e.author))},directives:[l.a,l.f,l.h,d],styles:[".lbl{text-align:right;padding-top:10px}.submit{margin:10px 0}div{margin:0}"],encapsulation:2}),p),y=n("r+JB"),m=((g=function(){function t(e){_classCallCheck(this,t),this.navigation=e,this.item=null}return _createClass(t,[{key:"getAuthor",value:function(){return this.item.author?this.item.author.replace(/ *\([^)]*\) */g,""):""}},{key:"SearchAuthor",value:function(){var t=this.getAuthor();this.navigation.searchAuthor(t)}}]),t}()).\u0275fac=function(t){return new(t||g)(s.Kb(y.a))},g.\u0275cmp=s.Eb({type:g,selectors:[["gag-item"]],inputs:{item:"item"},decls:16,vars:8,consts:[[1,"row"],[1,"col-sm-12","content"],[1,"row","origin"],[1,"col-md-4","location"],[3,"innerHTML"],[1,"date"],[1,"fa","fa-calendar"],[1,"col-md-8","author","right",3,"click"]],template:function(t,e){1&t&&(s.Pb(0,"div",0),s.Pb(1,"div",1),s.lc(2),s.Ob(),s.Ob(),s.Pb(3,"div",2),s.Pb(4,"div",3),s.Lb(5,"span",4),s.Lb(6,"br"),s.Lb(7,"span",4),s.Lb(8,"br"),s.Pb(9,"span",5),s.lc(10," \xa0\xa0\xa0 "),s.Lb(11,"i",6),s.lc(12),s.ac(13,"date"),s.Ob(),s.Ob(),s.Pb(14,"div",7),s.Xb("click",(function(){return e.SearchAuthor()})),s.lc(15),s.Ob(),s.Ob()),2&t&&(s.zb(2),s.nc(" ",e.item.content," "),s.zb(3),s.cc("innerHTML",e.item.getOrigin(),s.gc),s.zb(2),s.cc("innerHTML",e.item.getLocation(),s.gc),s.zb(5),s.nc("\xa0\xa0\xa0 ",s.bc(13,5,e.item.date,"dd/MM/yyyy")," "),s.zb(3),s.nc(" ~ ",e.item.author," "))},pipes:[h.d],styles:[".content{white-space:pre-wrap;padding:20px 30px 0 50px;font-family:monospace;font-size:14px}.origin{color:#555;margin:10px 5px 50px;border-bottom:1px solid #ccc}.author{cursor:pointer}"],encapsulation:2}),g);function k(t,e){if(1&t&&(s.Pb(0,"div",1),s.Pb(1,"div",4),s.lc(2),s.Ob(),s.Ob()),2&t){var n=s.Zb();s.zb(2),s.nc(" ",n.gags.length," results: ")}}function O(t,e){1&t&&s.Lb(0,"gag-item",5),2&t&&s.cc("item",e.$implicit)}var C,P,_=((P=function(){function t(){_classCallCheck(this,t),this.loading=!0,this.gags=[],this.itemClick=new s.n,this.Initialize()}return _createClass(t,[{key:"Initialize",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||P)},P.\u0275cmp=s.Eb({type:P,selectors:[["gag-list"]],inputs:{gags:"gags"},outputs:{itemClick:"itemClick"},decls:4,vars:2,consts:[["class","row",4,"ngIf"],[1,"row"],[1,"col-sm-12"],[3,"item",4,"ngFor","ngForOf"],[1,"col-sm-12","right","count"],[3,"item"]],template:function(t,e){1&t&&(s.kc(0,k,3,1,"div",0),s.Pb(1,"div",1),s.Pb(2,"div",2),s.kc(3,O,1,1,"gag-item",3),s.Ob(),s.Ob()),2&t&&(s.cc("ngIf",null==e.gags?null:e.gags.length),s.zb(3),s.cc("ngForOf",e.gags))},directives:[h.k,h.j,m],styles:[""],encapsulation:2}),P),w=((C=function t(){_classCallCheck(this,t),this.extraClass=""}).\u0275fac=function(t){return new(t||C)},C.\u0275cmp=s.Eb({type:C,selectors:[["mag-loading"]],inputs:{extraClass:"extraClass"},decls:1,vars:1,consts:[[1,"spinner",3,"ngClass"]],template:function(t,e){1&t&&s.Lb(0,"div",0),2&t&&s.cc("ngClass",e.extraClass)},directives:[h.i],styles:[".spinner[_ngcontent-%COMP%]{width:40px;height:40px;background-color:#333;margin:100px auto;-webkit-animation:sk-rotateplane 1.2s ease-in-out infinite;animation:sk-rotateplane 1.2s ease-in-out infinite}.spinner.inline[_ngcontent-%COMP%]{display:inline-block;position:absolute;top:8px}.spinner.inline[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:10px;height:10px;margin-right:5px}.spinner.small[_ngcontent-%COMP%]{height:20px;margin:0;width:50px}.spinner.white[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{background-color:#fff}@-webkit-keyframes sk-rotateplane{0%{-webkit-transform:perspective(120px)}50%{-webkit-transform:perspective(120px) rotateY(180deg)}to{-webkit-transform:perspective(120px) rotateY(180deg) rotateX(180deg)}}@keyframes sk-rotateplane{0%{transform:perspective(120px) rotateX(0deg) rotateY(0deg);-webkit-transform:perspective(120px) rotateX(0deg) rotateY(0deg)}50%{transform:perspective(120px) rotateX(-180.1deg) rotateY(0deg);-webkit-transform:perspective(120px) rotateX(-180.1deg) rotateY(0deg)}to{transform:perspective(120px) rotateX(-180deg) rotateY(-179.9deg);-webkit-transform:perspective(120px) rotateX(-180deg) rotateY(-179.9deg)}}"]}),C);function x(t,e){if(1&t){var n=s.Qb();s.Pb(0,"div",0),s.Pb(1,"div",7),s.Pb(2,"platypus-button",8),s.Xb("click",(function(){return s.fc(n),s.Zb().nextPage()})),s.Ob(),s.Ob(),s.Ob()}}function z(t,e){1&t&&(s.Pb(0,"div",0),s.Pb(1,"div",9),s.Lb(2,"i",10),s.lc(3,"\xa0 No results found "),s.Ob(),s.Ob())}function M(t,e){1&t&&(s.Pb(0,"div",0),s.Pb(1,"div",4),s.Lb(2,"mag-loading"),s.Ob(),s.Ob())}var q,I,L=[{path:"",component:(q=function(){function t(e){_classCallCheck(this,t),this.GagsService=e,this.loading=!1,this.searchData=null,this.list=[],this.moreContent=!1,this.noResults=!1,this.page=0,this.qtt=50}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"getPage",value:function(){var t=this;this.GagsService.search(Object.assign(Object.assign({},this.searchData),{page:this.page,qtt:this.qtt})).subscribe((function(e){t.list=t.list.concat(e.list),0==t.list.length&&(t.noResults=!0),t.moreContent=e.hasMore,t.loading=!1}))}},{key:"resetSearch",value:function(){this.list=[],this.noResults=!1,this.page=0}},{key:"search",value:function(t){this.loading=!0,this.resetSearch(),this.searchData=t,this.getPage()}},{key:"nextPage",value:function(){this.loading=!0,this.page++,this.getPage()}}]),t}(),q.\u0275fac=function(t){return new(t||q)(s.Kb(u))},q.\u0275cmp=s.Eb({type:q,selectors:[["ng-component"]],decls:11,vars:4,consts:[[1,"row"],[1,"col-xs-12","container"],[1,"col-sm-12","search"],[3,"search"],[1,"col-sm-12","result"],[3,"gags"],["class","row",4,"ngIf"],[1,"col-sm-12","right"],["type","load-more",3,"click"],[1,"col-sm-12","no-results"],[1,"fa","fa-times-circle"]],template:function(t,e){1&t&&(s.Pb(0,"div",0),s.Pb(1,"div",1),s.Pb(2,"div",0),s.Pb(3,"div",2),s.Pb(4,"search-bar",3),s.Xb("search",(function(t){return e.search(t)})),s.Ob(),s.Ob(),s.Ob(),s.Pb(5,"div",0),s.Pb(6,"div",4),s.Lb(7,"gag-list",5),s.Ob(),s.Ob(),s.kc(8,x,3,0,"div",6),s.kc(9,z,4,0,"div",6),s.kc(10,M,3,0,"div",6),s.Ob(),s.Ob()),2&t&&(s.zb(7),s.cc("gags",e.list),s.zb(1),s.cc("ngIf",e.moreContent),s.zb(1),s.cc("ngIf",e.noResults),s.zb(1),s.cc("ngIf",e.loading))},directives:[v,_,h.k,d,w],styles:[".container{width:80%;margin:20px auto}.search{border-bottom:1px solid #555}.no-results{padding:100px}"],encapsulation:2}),q),pathMatch:"full"}],j=n("d2mR"),E=((I=function t(){_classCallCheck(this,t)}).\u0275mod=s.Ib({type:I}),I.\u0275inj=s.Hb({factory:function(t){return new(t||I)},providers:[u],imports:[[i.d.forChild(L),j.a]]}),I)}}]);